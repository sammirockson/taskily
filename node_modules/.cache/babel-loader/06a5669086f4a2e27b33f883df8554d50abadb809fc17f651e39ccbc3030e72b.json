{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport CryptoJS from 'crypto-js';\nimport { BASE_URL, USER_CACHE_KEY } from '@/config';\nimport axios from 'axios';\nexport default {\n  inject: [\"cryptojs\"],\n  components: {},\n  setup() {\n    var isSideBarExpanded = ref(false);\n    var selectedTaskBoardType = ref(\"All Team\");\n    var boards = ref([]);\n    var currentUser = ref({});\n    return {\n      isSideBarExpanded,\n      boards,\n      selectedTaskBoardType,\n      currentUser\n    };\n  },\n  methods: {\n    handleBoardTapped(board) {\n      console.log(\"board: \", board);\n      let path = \"/b/\" + board.id;\n      this.$router.push({\n        path: path\n      });\n    },\n    handleBoardTypeTapped(item) {\n      this.selectedTaskBoardType = item;\n    },\n    watch: {\n      // isExpanded: function(newVal, oldVal) {\n      //     console.log('Prop changed isSideBarExpanwded: ', newVal)\n      //     this.isSideBarExpanded = newVal\n      // }\n    },\n    async fetchBoards() {\n      var params = {\n        owner: this.currentUser.id\n      };\n      var fullURL = BASE_URL + \"board/my\";\n      console.log(\"full url: \", fullURL, \"params: \", params);\n      await axios.post(fullURL, params).then(response => {\n        console.log(\"board response: \", response);\n        if (response.data != null) {\n          let data = response.data;\n          console.log(\"resp data: \", data);\n          if (data.statusCode == 200) {\n            let allBoard = data.resp;\n            console.log(\"boards: \", allBoard);\n            this.boards = allBoard;\n          }\n        }\n      });\n    }\n  },\n  mounted() {\n    let userCacheString = localStorage.getItem(USER_CACHE_KEY);\n    console.log(\"userCacheString: \", userCacheString);\n    if (userCacheString == null) {\n      this.$router.push({\n        path: \"/login\"\n      });\n    } else {\n      let userCache = JSON.parse(userCacheString);\n      let decryptionToken = userCache.token;\n      let encryptedUserData = userCache.user;\n      let decryptedData = CryptoJS.AES.decrypt(encryptedUserData, decryptionToken).toString(CryptoJS.enc.Utf8);\n      let cacheInfoObject = JSON.parse(decryptedData);\n      this.currentUser = cacheInfoObject.user;\n      this.fetchBoards();\n    }\n  }\n};","map":{"version":3,"names":["ref","CryptoJS","BASE_URL","USER_CACHE_KEY","axios","inject","components","setup","isSideBarExpanded","selectedTaskBoardType","boards","currentUser","methods","handleBoardTapped","board","console","log","path","id","$router","push","handleBoardTypeTapped","item","watch","fetchBoards","params","owner","fullURL","post","then","response","data","statusCode","allBoard","resp","mounted","userCacheString","localStorage","getItem","userCache","JSON","parse","decryptionToken","token","encryptedUserData","user","decryptedData","AES","decrypt","toString","enc","Utf8","cacheInfoObject"],"sources":["/Users/Sam.Agyemang/Desktop/Dev/taskily/src/views/AllTaskboardsView.vue"],"sourcesContent":["<template>\n     <div class=\"allBoards\">\n            <div class=\"boardContentView\">\n            <v-row style=\"overflow: hidden;\">\n             <v-col v-for=\"board in boards\" :key=\"board\" cols=\"auto\"> \n               <div class=\"productGridCellWithBorder\"  @click=\"handleBoardTapped(board)\">\n                  <img src=\"@/assets/board_placeholder.png\" class=\"productCellImage\">\n                  <label class=\"productNameLabel\">{{ board.name }}</label>\n               </div>\n              </v-col>\n            </v-row>\n           </div>\n        </div>\n</template>\n<script>\nimport { ref } from 'vue'\nimport CryptoJS from 'crypto-js'\nimport { BASE_URL, USER_CACHE_KEY } from '@/config'\nimport axios from 'axios';\n\nexport default {\n  inject: [\"cryptojs\"],\n    components: {\n        \n    }, \n    setup() {\n        var isSideBarExpanded = ref(false)\n        var selectedTaskBoardType = ref(\"All Team\")\n        var boards = ref([])\n        var currentUser = ref({})\n        return { isSideBarExpanded, boards, selectedTaskBoardType, currentUser}\n    },\n    methods: {\n      handleBoardTapped(board) {\n        console.log(\"board: \", board)\n        let path = \"/b/\" + board.id\n        this.$router.push({path: path})\n      },\n      handleBoardTypeTapped(item) {\n        this.selectedTaskBoardType = item\n      },\n    watch: { \n        // isExpanded: function(newVal, oldVal) {\n        //     console.log('Prop changed isSideBarExpanwded: ', newVal)\n        //     this.isSideBarExpanded = newVal\n        // }\n    }, \n    async fetchBoards() {\n        var params = {\n            owner: this.currentUser.id\n        }\n        var fullURL = BASE_URL + \"board/my\"\n        console.log(\"full url: \", fullURL, \"params: \", params)\n        await axios.post(fullURL, params).then((response) => {\n          console.log(\"board response: \", response)\n          if (response.data != null) {\n            let data = response.data\n            console.log(\"resp data: \", data)\n            if (data.statusCode == 200) {\n                let allBoard = data.resp\n                console.log(\"boards: \", allBoard)\n                this.boards = allBoard\n              }\n             }\n          })\n        }\n    },\n    mounted() {\n      let userCacheString = localStorage.getItem(USER_CACHE_KEY)\n      console.log(\"userCacheString: \", userCacheString)\n        if (userCacheString == null) {\n              this.$router.push({path: \"/login\"})\n            } else {\n             let userCache = JSON.parse(userCacheString)\n             let decryptionToken = userCache.token\n             let encryptedUserData = userCache.user\n             let decryptedData = CryptoJS.AES.decrypt(encryptedUserData, decryptionToken).toString(CryptoJS.enc.Utf8)\n             let cacheInfoObject = JSON.parse(decryptedData)\n             this.currentUser = cacheInfoObject.user\n             this.fetchBoards()\n       }\n    } \n}\n</script>\n<style scoped>\n    .productCellImage {\n    height: 200px;\n    width: 232px;\n    margin-right: auto;\n    margin-left: auto;\n    background-color: var(--color-light);\n    object-fit: cover;\n}\n\n.productGridCellWithBorder {\n    border: 2px solid var(--color-light);\n}\n.productGridCell, .productGridCellWithBorder {\n    display: block;\n    height: 280px;\n    overflow: hidden;\n    width: 232px;\n    background-color: white;\n    border-radius: var(--border-radius-2);\n}\n\n.boardContentView {\n    width: 99%;\n    height: 96%;\n    display: flex;\n    justify-content: left;\n    align-items: start;\n    margin: auto;\n    padding: 30px;\n}\n\n.allBoards {\n    width: 100vw;\n    height: 100vh;\n    background-color: white;\n}\n</style>"],"mappings":";AAeA,SAASA,GAAE,QAAS,KAAI;AACxB,OAAOC,QAAO,MAAO,WAAU;AAC/B,SAASC,QAAQ,EAAEC,cAAa,QAAS,UAAS;AAClD,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,MAAM,EAAE,CAAC,UAAU,CAAC;EAClBC,UAAU,EAAE,CAEZ,CAAC;EACDC,KAAKA,CAAA,EAAG;IACJ,IAAIC,iBAAgB,GAAIR,GAAG,CAAC,KAAK;IACjC,IAAIS,qBAAoB,GAAIT,GAAG,CAAC,UAAU;IAC1C,IAAIU,MAAK,GAAIV,GAAG,CAAC,EAAE;IACnB,IAAIW,WAAU,GAAIX,GAAG,CAAC,CAAC,CAAC;IACxB,OAAO;MAAEQ,iBAAiB;MAAEE,MAAM;MAAED,qBAAqB;MAAEE;IAAW;EAC1E,CAAC;EACDC,OAAO,EAAE;IACPC,iBAAiBA,CAACC,KAAK,EAAE;MACvBC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,KAAK;MAC5B,IAAIG,IAAG,GAAI,KAAI,GAAIH,KAAK,CAACI,EAAC;MAC1B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAACH,IAAI,EAAEA;MAAI,CAAC;IAChC,CAAC;IACDI,qBAAqBA,CAACC,IAAI,EAAE;MAC1B,IAAI,CAACb,qBAAoB,GAAIa,IAAG;IAClC,CAAC;IACHC,KAAK,EAAE;MACH;MACA;MACA;MACA;IAAA,CACH;IACD,MAAMC,WAAWA,CAAA,EAAG;MAChB,IAAIC,MAAK,GAAI;QACTC,KAAK,EAAE,IAAI,CAACf,WAAW,CAACO;MAC5B;MACA,IAAIS,OAAM,GAAIzB,QAAO,GAAI,UAAS;MAClCa,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEW,OAAO,EAAE,UAAU,EAAEF,MAAM;MACrD,MAAMrB,KAAK,CAACwB,IAAI,CAACD,OAAO,EAAEF,MAAM,CAAC,CAACI,IAAI,CAAEC,QAAQ,IAAK;QACnDf,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEc,QAAQ;QACxC,IAAIA,QAAQ,CAACC,IAAG,IAAK,IAAI,EAAE;UACzB,IAAIA,IAAG,GAAID,QAAQ,CAACC,IAAG;UACvBhB,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEe,IAAI;UAC/B,IAAIA,IAAI,CAACC,UAAS,IAAK,GAAG,EAAE;YACxB,IAAIC,QAAO,GAAIF,IAAI,CAACG,IAAG;YACvBnB,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEiB,QAAQ;YAChC,IAAI,CAACvB,MAAK,GAAIuB,QAAO;UACvB;QACD;MACH,CAAC;IACH;EACJ,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,IAAIC,eAAc,GAAIC,YAAY,CAACC,OAAO,CAACnC,cAAc;IACzDY,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEoB,eAAe;IAC9C,IAAIA,eAAc,IAAK,IAAI,EAAE;MACvB,IAAI,CAACjB,OAAO,CAACC,IAAI,CAAC;QAACH,IAAI,EAAE;MAAQ,CAAC;IACpC,OAAO;MACN,IAAIsB,SAAQ,GAAIC,IAAI,CAACC,KAAK,CAACL,eAAe;MAC1C,IAAIM,eAAc,GAAIH,SAAS,CAACI,KAAI;MACpC,IAAIC,iBAAgB,GAAIL,SAAS,CAACM,IAAG;MACrC,IAAIC,aAAY,GAAI7C,QAAQ,CAAC8C,GAAG,CAACC,OAAO,CAACJ,iBAAiB,EAAEF,eAAe,CAAC,CAACO,QAAQ,CAAChD,QAAQ,CAACiD,GAAG,CAACC,IAAI;MACvG,IAAIC,eAAc,GAAIZ,IAAI,CAACC,KAAK,CAACK,aAAa;MAC9C,IAAI,CAACnC,WAAU,GAAIyC,eAAe,CAACP,IAAG;MACtC,IAAI,CAACrB,WAAW,CAAC;IACvB;EACH;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}