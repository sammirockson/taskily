{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { isClient, setAttributes, setAttribute, isExist } from '@primeuix/utils/dom';\nimport { ref, readonly, getCurrentInstance, onMounted, nextTick, watch } from 'vue';\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction tryOnMounted(fn) {\n  var sync = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (getCurrentInstance()) onMounted(fn);else if (sync) fn();else nextTick(fn);\n}\nvar _id = 0;\nfunction useStyle(css) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var isLoaded = ref(false);\n  var cssRef = ref(css);\n  var styleRef = ref(null);\n  var defaultDocument = isClient() ? window.document : undefined;\n  var _options$document = options.document,\n    document = _options$document === void 0 ? defaultDocument : _options$document,\n    _options$immediate = options.immediate,\n    immediate = _options$immediate === void 0 ? true : _options$immediate,\n    _options$manual = options.manual,\n    manual = _options$manual === void 0 ? false : _options$manual,\n    _options$name = options.name,\n    name = _options$name === void 0 ? \"style_\".concat(++_id) : _options$name,\n    _options$id = options.id,\n    id = _options$id === void 0 ? undefined : _options$id,\n    _options$media = options.media,\n    media = _options$media === void 0 ? undefined : _options$media,\n    _options$nonce = options.nonce,\n    nonce = _options$nonce === void 0 ? undefined : _options$nonce,\n    _options$first = options.first,\n    first = _options$first === void 0 ? false : _options$first,\n    _options$onMounted = options.onMounted,\n    onStyleMounted = _options$onMounted === void 0 ? undefined : _options$onMounted,\n    _options$onUpdated = options.onUpdated,\n    onStyleUpdated = _options$onUpdated === void 0 ? undefined : _options$onUpdated,\n    _options$onLoad = options.onLoad,\n    onStyleLoaded = _options$onLoad === void 0 ? undefined : _options$onLoad,\n    _options$props = options.props,\n    props = _options$props === void 0 ? {} : _options$props;\n  var stop = function stop() {};\n\n  /* @todo: Improve _options params */\n  var load = function load(_css) {\n    var _props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!document) return;\n    var _styleProps = _objectSpread(_objectSpread({}, props), _props);\n    var _name = _styleProps.name || name,\n      _id = _styleProps.id || id,\n      _nonce = _styleProps.nonce || nonce;\n    styleRef.value = document.querySelector(\"style[data-primevue-style-id=\\\"\".concat(_name, \"\\\"]\")) || document.getElementById(_id) || document.createElement('style');\n    if (!styleRef.value.isConnected) {\n      cssRef.value = _css || css;\n      setAttributes(styleRef.value, {\n        type: 'text/css',\n        id: _id,\n        media: media,\n        nonce: _nonce\n      });\n      first ? document.head.prepend(styleRef.value) : document.head.appendChild(styleRef.value);\n      setAttribute(styleRef.value, 'data-primevue-style-id', _name);\n      setAttributes(styleRef.value, _styleProps);\n      styleRef.value.onload = function (event) {\n        return onStyleLoaded === null || onStyleLoaded === void 0 ? void 0 : onStyleLoaded(event, {\n          name: _name\n        });\n      };\n      onStyleMounted === null || onStyleMounted === void 0 || onStyleMounted(_name);\n    }\n    if (isLoaded.value) return;\n    stop = watch(cssRef, function (value) {\n      styleRef.value.textContent = value;\n      onStyleUpdated === null || onStyleUpdated === void 0 || onStyleUpdated(_name);\n    }, {\n      immediate: true\n    });\n    isLoaded.value = true;\n  };\n  var unload = function unload() {\n    if (!document || !isLoaded.value) return;\n    stop();\n    isExist(styleRef.value) && document.head.removeChild(styleRef.value);\n    isLoaded.value = false;\n  };\n  if (immediate && !manual) tryOnMounted(load);\n\n  /*if (!manual)\n    tryOnScopeDispose(unload)*/\n\n  return {\n    id: id,\n    name: name,\n    el: styleRef,\n    css: cssRef,\n    unload: unload,\n    load: load,\n    isLoaded: readonly(isLoaded)\n  };\n}\nexport { useStyle };","map":{"version":3,"names":["tryOnMounted","fn","sync","arguments","length","undefined","getCurrentInstance","onMounted","nextTick","_id","useStyle","css","options","isLoaded","ref","cssRef","styleRef","defaultDocument","isClient","window","document","_options$document","_options$immediate","immediate","_options$manual","manual","_options$name","name","concat","_options$id","id","_options$media","media","_options$nonce","nonce","_options$first","first","_options$onMounted","onStyleMounted","_options$onUpdated","onUpdated","onStyleUpdated","_options$onLoad","onLoad","onStyleLoaded","_options$props","props","stop","load","_css","_props","_styleProps","_objectSpread","_name","_nonce","value","querySelector","getElementById","createElement","isConnected","setAttributes","type","head","prepend","appendChild","setAttribute","onload","event","watch","textContent","unload","isExist","removeChild","el","readonly"],"sources":["../../src/usestyle/UseStyle.js"],"sourcesContent":["/*\n * Ported from useStyleTag in @vueuse/core\n * https://github.com/vueuse\n */\nimport { isClient, isExist, setAttribute, setAttributes } from '@primeuix/utils/dom';\nimport { getCurrentInstance, nextTick, onMounted, readonly, ref, watch } from 'vue';\n\nfunction tryOnMounted(fn, sync = true) {\n    if (getCurrentInstance()) onMounted(fn);\n    else if (sync) fn();\n    else nextTick(fn);\n}\n\nlet _id = 0;\n\nexport function useStyle(css, options = {}) {\n    const isLoaded = ref(false);\n    const cssRef = ref(css);\n    const styleRef = ref(null);\n\n    const defaultDocument = isClient() ? window.document : undefined;\n    const {\n        document = defaultDocument,\n        immediate = true,\n        manual = false,\n        name = `style_${++_id}`,\n        id = undefined,\n        media = undefined,\n        nonce = undefined,\n        first = false,\n        onMounted: onStyleMounted = undefined,\n        onUpdated: onStyleUpdated = undefined,\n        onLoad: onStyleLoaded = undefined,\n        props = {}\n    } = options;\n\n    let stop = () => {};\n\n    /* @todo: Improve _options params */\n    const load = (_css, _props = {}) => {\n        if (!document) return;\n\n        const _styleProps = { ...props, ..._props };\n        const [_name, _id, _nonce] = [_styleProps.name || name, _styleProps.id || id, _styleProps.nonce || nonce];\n\n        styleRef.value = document.querySelector(`style[data-primevue-style-id=\"${_name}\"]`) || document.getElementById(_id) || document.createElement('style');\n\n        if (!styleRef.value.isConnected) {\n            cssRef.value = _css || css;\n\n            setAttributes(styleRef.value, {\n                type: 'text/css',\n                id: _id,\n                media,\n                nonce: _nonce\n            });\n            first ? document.head.prepend(styleRef.value) : document.head.appendChild(styleRef.value);\n            setAttribute(styleRef.value, 'data-primevue-style-id', _name);\n            setAttributes(styleRef.value, _styleProps);\n            styleRef.value.onload = (event) => onStyleLoaded?.(event, { name: _name });\n            onStyleMounted?.(_name);\n        }\n\n        if (isLoaded.value) return;\n\n        stop = watch(\n            cssRef,\n            (value) => {\n                styleRef.value.textContent = value;\n                onStyleUpdated?.(_name);\n            },\n            { immediate: true }\n        );\n\n        isLoaded.value = true;\n    };\n\n    const unload = () => {\n        if (!document || !isLoaded.value) return;\n        stop();\n        isExist(styleRef.value) && document.head.removeChild(styleRef.value);\n        isLoaded.value = false;\n    };\n\n    if (immediate && !manual) tryOnMounted(load);\n\n    /*if (!manual)\n      tryOnScopeDispose(unload)*/\n\n    return {\n        id,\n        name,\n        el: styleRef,\n        css: cssRef,\n        unload,\n        load,\n        isLoaded: readonly(isLoaded)\n    };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,SAASA,YAAYA,CAACC,EAAE,EAAe;EAAA,IAAbC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EACjC,IAAIG,kBAAkB,EAAE,EAAEC,SAAS,CAACN,EAAE,CAAC,CAAC,KACnC,IAAIC,IAAI,EAAED,EAAE,EAAE,CAAC,KACfO,QAAQ,CAACP,EAAE,CAAC;AACrB;AAEA,IAAIQ,GAAG,GAAG,CAAC;AAEJ,SAASC,QAAQA,CAACC,GAAG,EAAgB;EAAA,IAAdC,OAAO,GAAAT,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACtC,IAAMU,QAAQ,GAAGC,GAAG,CAAC,KAAK,CAAC;EAC3B,IAAMC,MAAM,GAAGD,GAAG,CAACH,GAAG,CAAC;EACvB,IAAMK,QAAQ,GAAGF,GAAG,CAAC,IAAI,CAAC;EAE1B,IAAMG,eAAe,GAAGC,QAAQ,EAAE,GAAGC,MAAM,CAACC,QAAQ,GAAGf,SAAS;EAChE,IAAAgB,iBAAA,GAaIT,OAAO,CAZPQ,QAAQ;IAARA,QAAQ,GAAAC,iBAAA,KAAG,SAAAJ,eAAe,GAAAI,iBAAA;IAAAC,kBAAA,GAY1BV,OAAO,CAXPW,SAAS;IAATA,SAAS,GAAAD,kBAAA,KAAG,aAAI,GAAAA,kBAAA;IAAAE,eAAA,GAWhBZ,OAAO,CAVPa,MAAM;IAANA,MAAM,GAAAD,eAAA,KAAG,cAAK,GAAAA,eAAA;IAAAE,aAAA,GAUdd,OAAO,CATPe,IAAI;IAAJA,IAAI,GAAAD,aAAA,uBAAAE,MAAA,CAAY,EAAEnB,GAAG,IAAAiB,aAAA;IAAAG,WAAA,GASrBjB,OAAO,CARPkB,EAAE;IAAFA,EAAE,GAAAD,WAAA,KAAG,SAAAxB,SAAS,GAAAwB,WAAA;IAAAE,cAAA,GAQdnB,OAAO,CAPPoB,KAAK;IAALA,KAAK,GAAAD,cAAA,KAAG,SAAA1B,SAAS,GAAA0B,cAAA;IAAAE,cAAA,GAOjBrB,OAAO,CANPsB,KAAK;IAALA,KAAK,GAAAD,cAAA,KAAG,SAAA5B,SAAS,GAAA4B,cAAA;IAAAE,cAAA,GAMjBvB,OAAO,CALPwB,KAAK;IAALA,KAAK,GAAAD,cAAA,KAAG,cAAK,GAAAA,cAAA;IAAAE,kBAAA,GAKbzB,OAAO,CAJPL,SAAS;IAAE+B,cAAc,GAAAD,kBAAA,KAAG,SAAAhC,SAAS,GAAAgC,kBAAA;IAAAE,kBAAA,GAIrC3B,OAAO,CAHP4B,SAAS;IAAEC,cAAc,GAAAF,kBAAA,KAAG,SAAAlC,SAAS,GAAAkC,kBAAA;IAAAG,eAAA,GAGrC9B,OAAO,CAFP+B,MAAM;IAAEC,aAAa,GAAAF,eAAA,KAAG,SAAArC,SAAS,GAAAqC,eAAA;IAAAG,cAAA,GAEjCjC,OAAO,CADPkC,KAAK;IAALA,KAAK,GAAAD,cAAA,cAAG,EAAE,GAAAA,cAAA;EAGd,IAAIE,IAAI,GAAG,SAAAA,KAAA,EAAM,EAAE;;EAEnB;EACA,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAIC,IAAI,EAAkB;IAAA,IAAhBC,MAAM,GAAA/C,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAC3B,IAAI,CAACiB,QAAQ,EAAE;IAEf,IAAM+B,WAAW,GAAAC,aAAA,CAAAA,aAAA,CAAQ,IAAAN,KAAK,CAAK,EAAAI,MAAM,CAAE;IAC3C,IAAOG,KAAK,GAAkBF,WAAW,CAACxB,IAAI,IAAIA,IAAI;MAAxClB,GAAG,GAAuC0C,WAAW,CAACrB,EAAE,IAAIA,EAAE;MAAzDwB,MAAM,GAAqDH,WAAW,CAACjB,KAAK,IAAIA,KAAK;IAExGlB,QAAQ,CAACuC,KAAK,GAAGnC,QAAQ,CAACoC,aAAa,mCAAA5B,MAAA,CAAkCyB,KAAK,EAAI,OAAC,IAAIjC,QAAQ,CAACqC,cAAc,CAAChD,GAAG,CAAC,IAAIW,QAAQ,CAACsC,aAAa,CAAC,OAAO,CAAC;IAEtJ,IAAI,CAAC1C,QAAQ,CAACuC,KAAK,CAACI,WAAW,EAAE;MAC7B5C,MAAM,CAACwC,KAAK,GAAGN,IAAI,IAAItC,GAAG;MAE1BiD,aAAa,CAAC5C,QAAQ,CAACuC,KAAK,EAAE;QAC1BM,IAAI,EAAE,UAAU;QAChB/B,EAAE,EAAErB,GAAG;QACPuB,KAAK,EAALA,KAAK;QACLE,KAAK,EAAEoB;MACX,CAAC,CAAC;MACFlB,KAAK,GAAGhB,QAAQ,CAAC0C,IAAI,CAACC,OAAO,CAAC/C,QAAQ,CAACuC,KAAK,CAAC,GAAGnC,QAAQ,CAAC0C,IAAI,CAACE,WAAW,CAAChD,QAAQ,CAACuC,KAAK,CAAC;MACzFU,YAAY,CAACjD,QAAQ,CAACuC,KAAK,EAAE,wBAAwB,EAAEF,KAAK,CAAC;MAC7DO,aAAa,CAAC5C,QAAQ,CAACuC,KAAK,EAAEJ,WAAW,CAAC;MAC1CnC,QAAQ,CAACuC,KAAK,CAACW,MAAM,GAAG,UAACC,KAAK;QAAA,OAAKvB,aAAa,KAAb,QAAAA,aAAa,uBAAbA,aAAa,CAAGuB,KAAK,EAAE;UAAExC,IAAI,EAAE0B;QAAM,CAAC,CAAC;MAAA;MAC1Ef,cAAc,aAAdA,cAAc,eAAdA,cAAc,CAAGe,KAAK,CAAC;IAC3B;IAEA,IAAIxC,QAAQ,CAAC0C,KAAK,EAAE;IAEpBR,IAAI,GAAGqB,KAAK,CACRrD,MAAM,EACN,UAACwC,KAAK,EAAK;MACPvC,QAAQ,CAACuC,KAAK,CAACc,WAAW,GAAGd,KAAK;MAClCd,cAAc,aAAdA,cAAc,eAAdA,cAAc,CAAGY,KAAK,CAAC;IAC3B,CAAC,EACD;MAAE9B,SAAS,EAAE;IAAK,CACtB,CAAC;IAEDV,QAAQ,CAAC0C,KAAK,GAAG,IAAI;GACxB;EAED,IAAMe,MAAM,GAAG,SAATA,MAAMA,CAAA,EAAS;IACjB,IAAI,CAAClD,QAAQ,IAAI,CAACP,QAAQ,CAAC0C,KAAK,EAAE;IAClCR,IAAI,EAAE;IACNwB,OAAO,CAACvD,QAAQ,CAACuC,KAAK,CAAC,IAAInC,QAAQ,CAAC0C,IAAI,CAACU,WAAW,CAACxD,QAAQ,CAACuC,KAAK,CAAC;IACpE1C,QAAQ,CAAC0C,KAAK,GAAG,KAAK;GACzB;EAED,IAAIhC,SAAS,IAAI,CAACE,MAAM,EAAEzB,YAAY,CAACgD,IAAI,CAAC;;EAE5C;AACJ;;EAEI,OAAO;IACHlB,EAAE,EAAFA,EAAE;IACFH,IAAI,EAAJA,IAAI;IACJ8C,EAAE,EAAEzD,QAAQ;IACZL,GAAG,EAAEI,MAAM;IACXuD,MAAM,EAANA,MAAM;IACNtB,IAAI,EAAJA,IAAI;IACJnC,QAAQ,EAAE6D,QAAQ,CAAC7D,QAAQ;GAC9B;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}