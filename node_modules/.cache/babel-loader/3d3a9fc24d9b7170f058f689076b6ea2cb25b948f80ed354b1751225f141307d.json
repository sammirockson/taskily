{"ast":null,"code":"import { ref } from 'vue';\nexport default {\n  props: {\n    modelValue: Object\n  },\n  setup() {\n    var invoice_number = ref(3000);\n    return {\n      invoice_number,\n      is_shipping_identical: true,\n      billing_address: \"<b>M. John Doe</b><br>98 Ooezfjefoi Laozdij<br>09823 Ljeiznr<br>FOPKSOFOF<br>AC310592815039\",\n      items: [{\n        key: Math.random(),\n        ref: \"X3000\",\n        desc: \"My great product\",\n        qty: 1,\n        price: 299\n      }],\n      tax_percent: 20,\n      shipping: 15\n    };\n  },\n  mounted() {\n    // initialize contenteditable=\"true\" fields manually\n    this.$refs.billing_address.innerHTML = this.billing_address;\n    this.$refs.tax_percent.innerHTML = this.tax_percent;\n    this.$refs.shipping.innerHTML = this.shipping + \".00\";\n  },\n  computed: {\n    today() {\n      var date = new Date();\n      return date.toJSON().slice(0, 10).replace(/-/g, '.');\n    },\n    next_month() {\n      var date = new Date();\n      date.setDate(date.getDate() + 30);\n      return date.toJSON().slice(0, 10).replace(/-/g, '.');\n    },\n    sub_total() {\n      return this.items.reduce((acc, item) => acc += item.qty * item.price, 0);\n    },\n    total() {\n      return this.sub_total * (1 + this.tax_percent / 100) + this.shipping;\n    }\n  },\n  methods: {\n    preventLineBreaks(e) {\n      if (e.which == 13) e.preventDefault();\n    }\n  }\n};","map":{"version":3,"names":["ref","props","modelValue","Object","setup","invoice_number","is_shipping_identical","billing_address","items","key","Math","random","desc","qty","price","tax_percent","shipping","mounted","$refs","innerHTML","computed","today","date","Date","toJSON","slice","replace","next_month","setDate","getDate","sub_total","reduce","acc","item","total","methods","preventLineBreaks","e","which","preventDefault"],"sources":["/Users/Sam.Agyemang/Desktop/Dev/taskily/src/components/InvoiceCreator.vue"],"sourcesContent":["<template>\n    <div class=\"template\">\n      <div class=\"header\">\n        <div>\n          <h1><span class=\"hide-in-print\">INTERACTIVE </span>INVOICE</h1>\n          <div class=\"hide-in-print\" style=\"margin-bottom:10px\">This page is rendered from a \"template\" Vue.js component.<br>You can modify the fields highlighted in green and interact with the buttons without having them in the print. Check out <a href=\"https://github.com/motla/vue-document-editor/blob/master/src/Demo/InvoiceTemplate.ce.vue\" target=\"_blank\">InvoiceTemplate.ce.vue</a></div>\n        </div>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <td>OUR DETAILS</td>\n            <td style=\"text-align:right\">INVOICE DETAILS</td>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td contenteditable=\"true\">\n              <div><b>MyCompany</b></div>\n              <div>24 Poazkz Pazoek</div>\n              <div>89232 Oijzrazro</div>\n              <div>FRIGNEDRY</div>\n              <div>AB251648730890</div>\n            </td>\n            <td style=\"min-width: 250px; text-align:right\">\n              <div><b>Invoice number:</b> <span contenteditable=\"true\" @keydown=\"preventLineBreaks\">{{modelValue.invoice_number}}</span></div>\n              <div><b>Invoice date:</b> <span contenteditable=\"true\" @keydown=\"preventLineBreaks\">{{today}}</span></div>\n              <div><b>Order number:</b> <span contenteditable=\"true\" @keydown=\"preventLineBreaks\">W210984204</span></div>\n              <div><b>Order date:</b> <span contenteditable=\"true\" @keydown=\"preventLineBreaks\">{{today}}</span></div>\n              <div><b>Your client number:</b> <span contenteditable=\"true\" @keydown=\"preventLineBreaks\">120948</span></div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <table style=\"margin:10px 0 35px 0\">\n        <thead>\n          <tr>\n            <td style=\"width:50%\">BILLING ADDRESS</td>\n            <td>SHIPPING ADDRESS\n              <label class=\"hide-in-print\" style=\"margin-left: 10px\">\n                <input type=\"checkbox\" v-model=\"is_shipping_identical\"> Identical\n              </label>\n            </td>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td ref=\"billing_address\" contenteditable=\"true\" @input=\"(e) => this.billing_address = e.target.innerHTML\"></td>\n            <td v-if=\"is_shipping_identical\" v-html=\"billing_address\" contenteditable=\"false\"></td>\n            <td v-else contenteditable=\"true\">Insert custom shipping address</td>\n          </tr>\n        </tbody>\n      </table>\n      <h2>Your order</h2>\n      <table style=\"margin-top:10px\" class=\"order-table\">\n        <thead>\n          <tr style=\"font-size: 13px\">\n            <td>ITEM #</td>\n            <td>REFERENCE</td>\n            <td>DESIGNATION</td>\n            <td>QUANTITY</td>\n            <td>UNIT PRICE</td>\n            <td style=\"text-align:right\">TOTAL PRICE</td>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(item, i) of items\" :key=\"item.key\">\n            <td><div class=\"left-btn hide-in-print\" @click=\"() => items.splice(i, 1)\">➖</div>{{i+1}}</td>\n            <td contenteditable=\"true\">{{item.ref}}</td>\n            <td contenteditable=\"true\">{{item.desc}}</td>\n            <td style=\"padding:0; text-align:center\"><input type=\"number\" min=\"1\" style=\"width:3em\" v-model=\"item.qty\"></td>\n            <td style=\"padding:0\">€ <input type=\"number\" step=\"0.01\" style=\"width:4em\" v-model=\"item.price\"></td>\n            <td style=\"text-align:right\">€ {{(item.qty * item.price).toFixed(2)}}</td>\n          </tr>\n          <tr>\n            <td><div v-if=\"items.length < 5\" class=\"left-btn hide-in-print\" @click=\"() => items.push({ key: Math.random(), ref: 'MyRef', desc: 'My description', qty: 1, price: 0 })\">➕</div></td>\n            <td colspan=\"5\" style=\"text-align:right\">Sub-total: € {{sub_total.toFixed(2)}}</td>\n          </tr>\n          <tr>\n            <td colspan=\"6\" style=\"text-align:right\">Taxes: <span ref=\"tax_percent\" contenteditable=\"true\" @input=\"(e) => this.tax_percent = parseFloat(e.target.innerText)\"></span>%</td>\n          </tr>\n          <tr>\n            <td colspan=\"6\" style=\"text-align:right\">Shipping: € <span ref=\"shipping\" contenteditable=\"true\" @input=\"(e) => this.shipping = parseFloat(e.target.innerText)\"></span></td>\n          </tr>\n          <tr>\n            <td colspan=\"6\" style=\"text-align:right; font-weight:bold\">Order total: € {{total.toFixed(2)}}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div style=\"margin-bottom:20px\">Thank you for your order.</div>\n      <div><b>Payment method:</b> <span contenteditable=\"true\" @keydown=\"preventLineBreaks\">Bank transfer</span></div>\n      <div><b>Payment term:</b> <span contenteditable=\"true\" @keydown=\"preventLineBreaks\">{{next_month}}</span></div>\n    </div>\n  </template>\n  \n  <script>\n  import { ref } from 'vue'\n  export default {\n    props: {\n      modelValue: Object\n    },\n    setup() {\n      var invoice_number = ref(3000)\n      return {\n        invoice_number,\n        is_shipping_identical: true,\n        billing_address: \"<b>M. John Doe</b><br>98 Ooezfjefoi Laozdij<br>09823 Ljeiznr<br>FOPKSOFOF<br>AC310592815039\",\n        items: [{ key: Math.random(), ref: \"X3000\", desc: \"My great product\", qty: 1, price: 299 }],\n        tax_percent: 20,\n        shipping: 15\n      }\n    },\n    mounted () {\n      // initialize contenteditable=\"true\" fields manually\n      this.$refs.billing_address.innerHTML = this.billing_address;\n      this.$refs.tax_percent.innerHTML = this.tax_percent;\n      this.$refs.shipping.innerHTML = this.shipping+\".00\";\n    },\n    computed: {\n      today () {\n        var date = new Date();\n        return date.toJSON().slice(0,10).replace(/-/g,'.');\n      },\n      next_month () {\n        var date = new Date();\n        date.setDate(date.getDate() + 30);\n        return date.toJSON().slice(0,10).replace(/-/g,'.');\n      },\n      sub_total () {\n        return this.items.reduce((acc, item) => acc += item.qty * item.price, 0);\n      },\n      total () {\n        return this.sub_total * (1 + this.tax_percent/100) + this.shipping;\n      }\n    },\n    methods: {\n      preventLineBreaks (e) { if(e.which == 13) e.preventDefault(); }\n    }\n  }\n  </script>\n  \n  <style scoped>\n    table {\n      width: 100%;\n      border-spacing: 0;\n    }\n    table td {\n      position: relative;\n      padding: 6px;\n      vertical-align: top;\n    }\n    table.order-table td {\n      vertical-align: middle;\n    }\n    table thead td {\n      font-weight: bold;\n    }\n    table tbody td {\n      border-top: solid 1px #CCC;\n    }\n    input[type=number] {\n      border: none;\n      font-family: inherit;\n      font-size: inherit;\n      color: inherit;\n      background: rgba(200, 250, 230, 0.4);\n      padding: 6px;\n    }\n    *[contenteditable=\"true\"] {\n      background: rgba(200, 250, 230, 0.4);\n      cursor: text;\n      transition: padding 0.05s linear;\n    }\n    span[contenteditable=\"true\"]:focus {\n      padding: 0 4px;\n    }\n    @media print {\n      *[contenteditable=\"true\"], input {\n        background: none;\n      }\n      .hide-in-print {\n        display: none;\n      }\n      input::-webkit-outer-spin-button,\n      input::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n      }\n      input[type=number] {\n        -moz-appearance: textfield;\n        background: none;\n      }\n    }\n    .header {\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: 10px;\n    }\n    .order {\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: 10px;\n    }\n    .left-btn {\n      position: absolute;\n      left: -40px;\n      top: 2px;\n    }\n    .left-btn:hover {\n      opacity: 0.6;\n    }\n  </style>"],"mappings":"AAgGE,SAASA,GAAE,QAAS,KAAI;AACxB,eAAe;EACbC,KAAK,EAAE;IACLC,UAAU,EAAEC;EACd,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN,IAAIC,cAAa,GAAIL,GAAG,CAAC,IAAI;IAC7B,OAAO;MACLK,cAAc;MACdC,qBAAqB,EAAE,IAAI;MAC3BC,eAAe,EAAE,6FAA6F;MAC9GC,KAAK,EAAE,CAAC;QAAEC,GAAG,EAAEC,IAAI,CAACC,MAAM,CAAC,CAAC;QAAEX,GAAG,EAAE,OAAO;QAAEY,IAAI,EAAE,kBAAkB;QAAEC,GAAG,EAAE,CAAC;QAAEC,KAAK,EAAE;MAAI,CAAC,CAAC;MAC3FC,WAAW,EAAE,EAAE;MACfC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK;IACT;IACA,IAAI,CAACC,KAAK,CAACX,eAAe,CAACY,SAAQ,GAAI,IAAI,CAACZ,eAAe;IAC3D,IAAI,CAACW,KAAK,CAACH,WAAW,CAACI,SAAQ,GAAI,IAAI,CAACJ,WAAW;IACnD,IAAI,CAACG,KAAK,CAACF,QAAQ,CAACG,SAAQ,GAAI,IAAI,CAACH,QAAQ,GAAC,KAAK;EACrD,CAAC;EACDI,QAAQ,EAAE;IACRC,KAAIA,CAAA,EAAK;MACP,IAAIC,IAAG,GAAI,IAAIC,IAAI,CAAC,CAAC;MACrB,OAAOD,IAAI,CAACE,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC;IACpD,CAAC;IACDC,UAASA,CAAA,EAAK;MACZ,IAAIL,IAAG,GAAI,IAAIC,IAAI,CAAC,CAAC;MACrBD,IAAI,CAACM,OAAO,CAACN,IAAI,CAACO,OAAO,CAAC,IAAI,EAAE,CAAC;MACjC,OAAOP,IAAI,CAACE,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC;IACpD,CAAC;IACDI,SAAQA,CAAA,EAAK;MACX,OAAO,IAAI,CAACtB,KAAK,CAACuB,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAE,IAAKC,IAAI,CAACpB,GAAE,GAAIoB,IAAI,CAACnB,KAAK,EAAE,CAAC,CAAC;IAC1E,CAAC;IACDoB,KAAIA,CAAA,EAAK;MACP,OAAO,IAAI,CAACJ,SAAQ,IAAK,IAAI,IAAI,CAACf,WAAW,GAAC,GAAG,IAAI,IAAI,CAACC,QAAQ;IACpE;EACF,CAAC;EACDmB,OAAO,EAAE;IACPC,iBAAgBA,CAAGC,CAAC,EAAE;MAAE,IAAGA,CAAC,CAACC,KAAI,IAAK,EAAE,EAAED,CAAC,CAACE,cAAc,CAAC,CAAC;IAAE;EAChE;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}