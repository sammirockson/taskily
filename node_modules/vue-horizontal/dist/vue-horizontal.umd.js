var __assign=Object.assign;!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).VueHorizontal=e(t.Vue)}(this,(function(t){"use strict";const e=2.5;return t.defineComponent({name:"VueHorizontal",data:()=>({left:0,width:0,scrollWidth:0,hasPrev:!1,hasNext:!1,debounceId:void 0}),props:{button:{type:Boolean,default:()=>!0},buttonBetween:{type:Boolean,default:()=>!0},scroll:{type:Boolean,default:()=>!1},displacement:{type:Number,default:()=>1},snap:{type:String,default:()=>"start"}},mounted(){this.onScrollDebounce()},beforeDestroy(){clearTimeout(this.debounceId)},methods:{children(){return this.$refs.container.children},findPrevSlot(t){const e=this.children();for(let n=0;n<e.length;n++){const o=e[n].getBoundingClientRect();if(o.left<=t&&t<=o.right)return e[n];if(t<=o.left)return e[n]}},findNextSlot(t){const e=this.children();for(let n=0;n<e.length;n++){const o=e[n].getBoundingClientRect();if(!(o.right<=t)){if(o.left<=t)return e[n];if(t<=o.left)return e[n]}}},prev(t){t.stopPropagation(),this.$emit("prev");const n=this.$refs.container,o=n.getBoundingClientRect().left,i=o+n.clientWidth*-this.displacement-e,l=this.findPrevSlot(i);if(l){const t=l.getBoundingClientRect().left-o;return void this.scrollToLeft(n.scrollLeft+t)}const s=n.clientWidth*this.displacement;this.scrollToLeft(n.scrollLeft-s)},next(t){t.stopPropagation(),this.$emit("next");const n=this.$refs.container,o=n.getBoundingClientRect().left,i=o+n.clientWidth*this.displacement+e,l=this.findNextSlot(i);if(l){const t=l.getBoundingClientRect().left-o;if(t>e)return void this.scrollToLeft(n.scrollLeft+t)}const s=n.clientWidth*this.displacement;this.scrollToLeft(n.scrollLeft+s)},scrollToIndex(t){const e=this.children();if(e[t]){const n=this.$refs.container,o=e[t].getBoundingClientRect().left-n.getBoundingClientRect().left;this.scrollToLeft(n.scrollLeft+o)}},scrollToLeft(t,e="smooth"){this.$refs.container.scrollTo({left:t,behavior:e})},onScroll(){const t=this.$refs.container;t&&(this.$emit("scroll",{left:t.scrollLeft}),clearTimeout(this.debounceId),this.debounceId=setTimeout(this.onScrollDebounce,100))},onScrollDebounce(){return this.refresh((t=>{this.$emit("scroll-debounce",t)}))},refresh(e){return t.nextTick((()=>{const t=this.calculate();this.left=t.left,this.width=t.width,this.scrollWidth=t.scrollWidth,this.hasNext=t.hasNext,this.hasPrev=t.hasPrev,null==e||e(t)}))},calculate(){const t=this.$refs.container,n=this.children()[0];return{left:t.scrollLeft,width:t.clientWidth,scrollWidth:t.scrollWidth,hasNext:t.scrollWidth>t.scrollLeft+t.clientWidth+e,hasPrev:function(){var o,i;if(0===t.scrollLeft)return!1;const l=t.getBoundingClientRect().left,s=null!=(i=null==(o=null==n?void 0:n.getBoundingClientRect())?void 0:o.left)?i:0;return Math.abs(l-s)>=e}()}}},render(){const e=e=>{const n=t.h("path",{d:"m9.8 12 5 5a1 1 0 1 1-1.4 1.4l-5.7-5.7a1 1 0 0 1 0-1.4l5.7-5.7a1 1 0 0 1 1.4 1.4l-5 5z"}),o=t.h("path",{d:"m14.3 12.1-5-5a1 1 0 0 1 1.4-1.4l5.7 5.7a1 1 0 0 1 0 1.4l-5.7 5.7a1 1 0 0 1-1.4-1.4l5-5z"});return t.h("svg",{class:"v-hl-svg",viewBox:"0 0 24 24","aria-label":`horizontal scroll area button for navigation to ${"prev"===e?"previous":"next"} section`,style:{width:"40px",height:"40px",margin:"6px",padding:"6px","border-radius":"20px","box-sizing":"border-box",background:"white",color:"black",fill:"currentColor","box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)"}},["prev"===e?n:o])},n=n=>this.button&&("prev"!==n||this.hasPrev)&&("next"!==n||this.hasNext)?t.h("div",{key:"prev"===n?0:1,class:`v-hl-btn v-hl-btn-${n}`,onClick:"prev"===n?this.prev:this.next,role:"button",style:__assign(__assign(__assign({},"prev"===n?{left:0,transform:this.buttonBetween?"translateX(-50%)":"none"}:{right:0,transform:this.buttonBetween?"translateX(50%)":"none"}),{cursor:"pointer",position:"absolute",top:0,bottom:0,display:"flex","align-self":"center","z-index":1,"align-items":"center"}),this.scroll?{}:{"overflow-x":"scroll","scrollbar-width":"none","-ms-overflow-style":"none","padding-bottom":"30px","margin-bottom":"-30px","clip-path":"inset(0 0 30px 0)"})},["prev"===n?this.$slots["btn-prev"]?this.$slots["btn-prev"]():e("prev"):this.$slots["btn-next"]?this.$slots["btn-next"]():e("next")]):t.createCommentVNode("",!0);return t.h("div",{class:"vue-horizontal",style:{position:"relative",display:"flex"}},[n("prev"),n("next"),t.h("div",{class:"v-hl-container",ref:"container",onScrollPassive:this.onScroll,style:__assign({display:"flex",width:"100%",margin:0,padding:0,border:"none","box-sizing":"content-box","overflow-x":"scroll","overflow-y":"hidden","scroll-snap-type":"x mandatory","-webkit-overflow-scrolling":"touch"},this.scroll?{}:{"scrollbar-width":"none","-ms-overflow-style":"none","padding-bottom":"30px","margin-bottom":"-30px","clip-path":"inset(0 0 30px 0)"})},(()=>{if(!this.$slots.default)return[];const t=t=>{t.props=t.props||{},t.props.style=t.props.style||{},t.props.style={"flex-shrink":0,"box-sizing":"border-box","min-height":"1px","scroll-snap-align":this.snap}},e=this.$slots.default();return e.forEach((e=>{if(e.el)return t(e);e.children&&Array.isArray(e.children)&&e.children.forEach((e=>{t(e)}))})),e})())])}})}));
